<%- include('../partials/header', { title: 'Python Programming' }) %>

<main class="course-container">
    <!-- Hero Section (Now with dynamic elements) -->
    <section class="course-hero">
        <div class="course-breadcrumbs">
            <span>Tech Courses</span> > <span>Programming</span> > <span>Python</span>
        </div>
        
        <h1 class="course-title" id="course-title">Python Programming</h1>
        
        <div class="course-actions">
            <button class="primary-action" id="course-start-btn">
                <%= isAuthenticated && userProgress > 0 ? 'Continue' : 'Start' %>
            </button>
            <button class="secondary-action" id="bookmark-btn">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2H4C3.44772 2 3 2.44772 3 3V15L8 12L13 15V3C13 2.44772 12.5523 2 12 2Z" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Bookmark
            </button>
        </div>
        
        <div class="course-meta">
            <span class="meta-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M8 4V8L10.5 9.5" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Length: <span id="course-duration">10 hours</span>
            </span>
            <span class="meta-item">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 4H2M14 4V12C14 13.1046 13.1046 14 12 14H4C2.89543 14 2 13.1046 2 12V4M14 4C14 2.89543 13.1046 2 12 2H4C2.89543 2 2 2.89543 2 4" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Content: <span id="content-count">4 exercises</span>
            </span>
        </div>
        
        <div class="course-description">
            <p class="description-truncated" id="short-description">
                Master Python programming from scratch and build real-world applications.
                <button class="read-more-btn">Read more</button>
            </p>
            <p class="description-full" style="display: none;" id="full-description">
                Python is a powerful, versatile programming language used in web development, 
                data science, AI, and more. In this comprehensive course, you'll start with 
                Python basics and progress to advanced concepts.
                <button class="read-less-btn">Read less</button>
            </p>
        </div>
    </section>

    <!-- Course Content Section (Dynamic + Static) -->
    <section class="course-content">
        <div class="content-wrapper">
            <div class="main-content">
                <div class="content-header">
                    <h2>Lectures and Labs</h2>
                    <div class="progress-tracker">
                        <span>Course Progress: <span id="progress-percent">25</span>%</span>
                        <progress id="course-progress" value="25" max="100"></progress>
                    </div>
                </div>
                
                <!-- Dynamic Content Will Be Inserted Here -->
                <div id="dynamic-content"></div>
                
                <!-- Static Chapter Content (Fallback if JS fails) -->
                <div class="chapter-container" id="static-content">
                    <div class="chapter">
                        <div class="chapter-header">
                            <h3>Chapter 1: Python Basics</h3>
                            <button class="toggle-chapter">View Chapter Details</button>
                            <button class="show-quiz">Take Chapter Quiz</button>
                        </div>
                        
                        <div class="chapter-description">
                            <p>Before writing any Python code, it's important to understand the fundamentals. In this chapter, we'll discover Python syntax, variables, and basic data types. Using interactive exercises, we'll explore how to write and execute your first Python programs.</p>
                        </div>
                        
                        <div class="chapter-details" style="display: none;">
                            <!-- Content will be duplicated here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contributor/Reviews Section -->
            <div class="contributor-section">
                <div class="contributor-card" id="instructor-card">
                    <!-- Dynamic instructor info will go here -->
                </div>
                
                <div id="course-reviews" class="reviews-container">
                    <h3>Student Reviews</h3>
                    <!-- Reviews will be inserted here by JavaScript -->
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Script Includes -->
<script src="/js/utils/urlParams.js"></script>
<script src="/js/lib/coursesData.js"></script>
<script src="/js/features/loadCourse.js"></script>
<script src="/js/features/quizHandler.js"></script>
<script src="/js/script.js"></script> <!-- Should load last -->


<script>
// This will hide static content if JavaScript loads successfully
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('static-content').style.display = 'none';
});
</script>

<%- include('../partials/footer') %>